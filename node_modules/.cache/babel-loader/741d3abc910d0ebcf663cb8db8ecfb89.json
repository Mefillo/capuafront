{"ast":null,"code":"var _jsxFileName = \"/Users/artem/Desktop/python/capua/front/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { Route, Switch } from 'react-router-dom';\nimport HomePage from './pages/homepage.component';\nimport DetailedProduct from './components/detailed-product/detailed-product.component';\nimport About from './pages/about.page';\nimport Contact from './pages/contact.page';\nimport { createHttpLink } from 'apollo-link-http';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { ApolloClient, gql } from 'apollo-boost';\nimport { css } from \"@emotion/core\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nconst httpLink = createHttpLink({\n  uri: 'http://127.0.0.1:8000/graphql/'\n});\nconst cache = new InMemoryCache();\nconst client = new ApolloClient({\n  link: httpLink,\n  cache\n});\nconst override = css`\ndisplay: block;\nmargin: auto;\nborder-color: purple;\ntop:50%;\nleft:50%;\n`;\n\nclass App extends React.Component {\n  componentDidMount() {\n    client.query({\n      query: gql`{\n          products{name}}`\n    }).then(response => {\n      this.setState({\n        names: response.data.products.map(x => x.name)\n      });\n      console.log(response.data.products);\n    }).then(this.setState({\n      loading: false\n    })).catch();\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      names: []\n    };\n  }\n\n  render() {\n    console.log(this.state);\n\n    if (!this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => /*#__PURE__*/React.createElement(HomePage, {\n          names: this.state.names,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 47\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }\n      }), this.state.names.map(name => /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: '/' + name + '/',\n        render: name => /*#__PURE__*/React.createElement(DetailedProduct, {\n          name: name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 64\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/about/\",\n        component: About,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/contact/\",\n        component: Contact,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sweet-loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ClipLoader, {\n        css: override,\n        size: 150,\n        color: \"#123abc\",\n        loading: !this.state.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      })));\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/artem/Desktop/python/capua/front/src/App.js"],"names":["React","Route","Switch","HomePage","DetailedProduct","About","Contact","createHttpLink","InMemoryCache","ApolloClient","gql","css","ClipLoader","httpLink","uri","cache","client","link","override","App","Component","componentDidMount","query","then","response","setState","names","data","products","map","x","name","console","log","loading","catch","constructor","state","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {Route, Switch} from 'react-router-dom';\nimport HomePage from './pages/homepage.component'\nimport DetailedProduct from './components/detailed-product/detailed-product.component'\nimport About from './pages/about.page'\nimport Contact from './pages/contact.page'\n\nimport {createHttpLink} from 'apollo-link-http';\nimport {InMemoryCache} from 'apollo-cache-inmemory';\nimport {ApolloClient, gql} from 'apollo-boost';\n\nimport { css } from \"@emotion/core\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nconst httpLink = createHttpLink ({\n  uri: 'http://127.0.0.1:8000/graphql/'\n})\nconst cache = new InMemoryCache ();\nconst client = new ApolloClient({\n  link:httpLink,\n  cache\n});\nconst override = css`\ndisplay: block;\nmargin: auto;\nborder-color: purple;\ntop:50%;\nleft:50%;\n`;\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    client.query({\n        query: gql`{\n          products{name}}`})\n            .then(response => {\n              this.setState({names:response.data.products.map((x) => x.name)})\n              console.log(response.data.products)\n            })\n            .then(this.setState({loading:false})).catch();\n\n}\n\n  constructor(){\n    super();\n    this.state ={\n      loading:false,\n      names: []\n    }\n  }\n  render(){\n    console.log(this.state)\n    if (!this.state.loading){\n    return (\n      <div>\n        <Switch>\n        <Route exact path = '/' render={() => <HomePage names = {this.state.names} /> } />\n\n        {this.state.names.map((name) =>\n          <Route exact path = {'/'+name+'/'} render={(name) => <DetailedProduct name = {name}/>}/>\n        )}\n\n        <Route exact path = '/about/'  component = {About} />\n        <Route exact path = '/contact/'  component = {Contact} />\n        </Switch>\n      </div>\n    );\n    }\n    else{\n      return(\n        <div>\n            <div className=\"sweet-loading\">\n            <ClipLoader\n              css={override}\n              size={150}\n              color={\"#123abc\"}\n              loading={!this.state.loading}\n            />\n          </div>\n          </div>\n        )\n    }\n    \n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}